<!DOCTYPE html>
<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Kanban game</title>
    <link rel="stylesheet" href="index.css"/>
</head>
<body>
<div id="app" style="display: table; width: 99%">
    <fullscreen :fullscreen.sync="toggles.isFullscreen" ref="fullscreen">
        <div class="whiteBack">
            <div style="display: table-row;">
                <div class="singleCell">
                    <label for="readyLimit">‚ö†&nbsp;</label>
                    <input class="input_data" id="readyLimit" name="readyLimit" type="text" v-model="stages.ready.limit"/>
                </div>
                <div class="doubleCell">
                    <label for="analysisDices">üé≤&nbsp;</label>
                    <input class="input_data" id="analysisDices" name="analysisDices" type="text" v-model="stages.analysis.diceCount"/>
                    /
                    <label for="analysisLimit">‚ö†&nbsp;</label>
                    <input class="input_data" id="analysisLimit" name="analysisLimit" type="text" v-model="stages.analysis.limit"/>
                </div>
                <div class="doubleCell">
                    <label for="developmentDices">üé≤&nbsp;</label>
                    <input class="input_data" id="developmentDices" name="developmentDices" type="text" v-model="stages.development.diceCount"/>
                    /
                    <label for="developmentLimit">‚ö†&nbsp;</label>
                    <input class="input_data" id="developmentLimit" name="developmentLimit" type="text" v-model="stages.development.limit"/>
                </div>
                <div class="singleCell">
                    <label for="testingDices">üé≤&nbsp;</label>
                    <input class="input_data" id="testingDices" name="testingDices" type="text" v-model="stages.testing.diceCount"/>
                    /
                    <label for="testingLimit">‚ö†&nbsp;</label>
                    <input class="input_data" id="testingLimit" name="testingLimit" type="text" v-model="stages.testing.limit"/>
                </div>
                <div class="singleCell">
                    <label for="deploymentDelay">‚è≥&nbsp;</label>
                    <input class="input_data" id="deploymentDelay" name="deploymentDelay" type="text" v-model="stages.deployed.delay"/>
                </div>
                <div class="singleCell">
                    <input @click="startToggle" id="startButton" name="startButton" type="button" v-bind:value="startButton"/>
                    <input @click="reset" id="resetButton" name="resetButton" type="button" v-bind:value="resetButton"/>
                    <input @click="toggles.isFullscreen = !toggles.isFullscreen" id="fullscreenButton" name="fullscreenButton" type="button" v-bind:value="fullscreenButton"/>
                </div>
            </div>
            <div class="b-table">
                <div class="b-header-row">
                    <div class="b-column" v-for="(stageData, stageName) in stages">{{ stageName }}</div>
                </div>
                <div class="b-header2-row">
                    <div :class="stageData.isInnerDone ? 'b-column-x2' : 'b-column'" v-for="(stageData, stageName) in stages">
                        <div class="b-column-double" v-if="stageData.isInnerDone">
                            WIP
                        </div>
                        <div class="b-column-double" v-if="stageData.isInnerDone">
                            Done
                        </div>
                    </div>
                </div>
                <div class="b-expedite-row">
                    <div :class="stageData.isInnerDone ? 'b-column-x2' : 'b-column'" v-for="(stageData, stageName) in stages">
                        <div class="b-column-double" v-if="stageData.isInnerDone">
                            &nbsp;
                        </div>
                        <div class="b-column-double" v-if="stageData.isInnerDone">
                            &nbsp;
                        </div>
                    </div>
                </div>
                <div class="b-regular-row">
                    <div :class="stageData.isInnerDone ? 'b-column-x2' : 'b-column'" v-for="(stageData, stageName) in stages">
                        <div class="b-column-double" v-if="stageData.isInnerDone">
                            <div class="b-card" v-for="(card) in stageData.cards.wip">
                                {{ card.cardId }}<br/>
                                {{ card.estimations.analysis }} - {{card.estimations.development}} - {{card.estimations.testing}}
                            </div>
                        </div>
                        <div class="b-column-double" v-if="stageData.isInnerDone">
                            <div class="b-card" v-for="(card) in stageData.cards.done">
                                {{ card.cardId }}<br/>
                                {{ card.estimations.analysis }} - {{card.estimations.development}} - {{card.estimations.testing}}
                            </div>
                        </div>
                        <div class="b-card" v-for="(card) in stageData.cards.wip" v-else>
                            {{ card.cardId }}<br/>
                            {{ card.estimations.analysis }} - {{card.estimations.development}} - {{card.estimations.testing}}
                        </div>
                    </div>
                </div>
            </div>
            <a href="https://timmson.github.io/fruit-report/" style="padding-left: 50px;">Read more about these diagrams (on Russian)</a>
        </div>
    </fullscreen>
</div>
<script src="main.js" type="application/javascript"></script>
</body>
</html>
