<!DOCTYPE html>
<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Kanban game</title>
    <link rel="stylesheet" href="index.css"/>
</head>
<body>
<div id="app" style="display: table; width: 99%">
    <fullscreen :fullscreen.sync="toggles.isFullscreen" ref="fullscreen">
        <div class="whiteBack">
            <div style="display: table-row;">
                <div class="singleCell">
                    <input @click="startToggle" id="startButton" name="startButton" type="button" class="btn-success" :value="startButton"/>
                    <input @click="reset" id="resetButton" name="resetButton" type="button" class="btn-secondary" :value="resetButton"/>
                    <input @click="toggles.isFullscreen = !toggles.isFullscreen" id="fullscreenButton" name="fullscreenButton" type="button" class="btn-secondary" :value="fullscreenButton"/>
                </div>
            </div>
            <table class="b-table">
                <tr class="b-header-row">
                    <td class="b-column" :colspan="stageData.isInnerDone ? 2 : 1" :rowspan="stageData.isInnerDone ? 1 : 2" v-for="(stageData, stageName) in stages">
                        {{ stageName }}
                        <template v-for="(config) in stageConfigs" v-if="stageData[config.name]">
                            &nbsp;
                            <label :for="stageName + config.name">{{ config.icon }}</label>
                            <input class="form-control" :id="stageName + config.name" :name="stageName + config.name" type="text" v-model="stageData[config.name]"/>
                        </template>
                    </td>
                </tr>
                <tr class="b-header2-row">
                    <template v-for="(stageData, stageName) in stages">
                        <td :class="'b-column b-' + stageName + ' b-wip'" v-if="stageData.isInnerDone">WIP</td>
                        <td :class="'b-column b-' + stageName + ' b-inner-done'" v-if="stageData.isInnerDone">Done</td>
                    </template>
                </tr>
                <tr class="b-expedite-row">
                    <template v-for="(stageData, stageName) in stages">
                        <td class="b-column" v-if="stageData.isInnerDone">&nbsp;</td>
                        <td :class="'b-column b-'+ stageName">&nbsp;</td>
                    </template>
                </tr>
                <tr class="b-regular-row">
                    <template v-for="(stageData, stageName) in stages">
                        <td class="b-column" v-if="stageData.isInnerDone">
                            <b-cards :cards="stageData.cards.wip"></b-cards>
                        </td>
                        <td :class="'b-column b-'+ stageName">
                            <b-cards :cards="stageData.isInnerDone ? stageData.cards.done : stageData.cards.wip"></b-cards>
                        </td>
                    </template>
                </tr>
            </table>
            <a href="https://timmson.github.io/fruit-report/" style="padding-left: 50px;">Read more about these diagrams
                (on Russian)</a>
        </div>
    </fullscreen>
</div>
<script src="index.js" type="application/javascript"></script>
</body>
</html>
